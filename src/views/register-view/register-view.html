<template>
	<require from="./register-view.css"></require>
	<require from="components/address-field/address-field"></require>

	<div class="register-view">
		<mdc-card class="p-3 default-form-card box-shadow-register">
			<div mdc-headline6>Registrieren</div>
			<form>
				<mdc-layout-grid-inner>
					<mdc-layout-grid-cell span="6">
						<div class="au-text-field">
							<mdc-text-field
								label="Vorname"
								outlined
								required
								value.two-way="formInput.firstname"
								view-model.ref="inputs.firstname"
							>
							</mdc-text-field>
							<mdc-text-field-helper-line>
								<mdc-text-field-helper-text validation>Darf nicht leer sein</mdc-text-field-helper-text>
							</mdc-text-field-helper-line>
						</div>
					</mdc-layout-grid-cell>
					<mdc-layout-grid-cell span="6">
						<div class="au-text-field">
							<mdc-text-field
								label="Nachname"
								outlined
								required
								value.two-way="formInput.lastname"
								view-model.ref="inputs.lastname"
							>
							</mdc-text-field>
							<mdc-text-field-helper-line>
								<mdc-text-field-helper-text validation>Darf nicht leer sein</mdc-text-field-helper-text>
							</mdc-text-field-helper-line>
						</div>
					</mdc-layout-grid-cell>
					<mdc-layout-grid-cell span="12">
						<div class="au-text-field">
							<mdc-text-field
								label="Email-Adresse"
								outlined
								required
								value.two-way="formInput.email"
								view-model.ref="inputs.email"
							>
							</mdc-text-field>
							<mdc-text-field-helper-line>
								<mdc-text-field-helper-text validation>Darf nicht leer sein</mdc-text-field-helper-text>
							</mdc-text-field-helper-line>
						</div>
					</mdc-layout-grid-cell>
					<mdc-layout-grid-cell span="6">
						<div class="au-text-field">
							<mdc-text-field
								type="password"
								view-model.ref="inputs.password"
								label="Passwort"
								outlined
								required
							>
							</mdc-text-field>
							<mdc-text-field-helper-line>
								<mdc-text-field-helper-text validation>Darf nicht leer sein</mdc-text-field-helper-text>
							</mdc-text-field-helper-line>
						</div>
					</mdc-layout-grid-cell>
					<mdc-layout-grid-cell span="6">
						<div class="au-text-field">
							<mdc-text-field
								type="password"
								view-model.ref="inputs.passwordConfirm"
								label="Passwort wiederholen"
								required
								outlined
								value.two-way="formInput.password"
								valid.bind="password.value === passwordConfirm.value"
							>
							</mdc-text-field>
							<mdc-text-field-helper-line>
								<mdc-text-field-helper-text validation>Muss Ã¼bereinstimmen</mdc-text-field-helper-text>
							</mdc-text-field-helper-line>
						</div>
					</mdc-layout-grid-cell>
					<mdc-layout-grid-cell span="12">
						<address-field
							required
							suggestion.bind="getAddressSuggestions"
							place-id.two-way="formInput.placeId"
							label="Adresse"
							placeholder="Tippe zum Suchen"
							view-model.ref="inputs.address"
						></address-field>
					</mdc-layout-grid-cell>
					<mdc-layout-grid-cell span="12">
						<mdc-layout-grid-cell span="12">
							<mdc-form-field>
								<mdc-checkbox checked.bind="checked"></mdc-checkbox>
								<label>Abonniere unseren Newsletter.</label>
							</mdc-form-field>
						</mdc-layout-grid-cell>

						<mdc-layout-grid-cell span="12">
							<mdc-form-field>
								<mdc-checkbox
									checked.two-way="conditionsAccepted"
									view-model.ref="inputs.conditions"
								></mdc-checkbox>
								<label>Du hast unsere
									<a href="https://www.ihk-muenchen.de/de/Service/Recht-und-Steuern/Vertragsrecht/mustervertraege/agb-webshop.html">AGB's</a>
									und
									<a href="https://muster-vorlage.ch/wp-content/uploads/2018/09/Muster-Datenschutzerklaerung-Schweiz.jpg">Datenschutzbestimmung</a>
									gelesen und akzeptierst diese.</label>
							</mdc-form-field>
							<mdc-text-field-helper-line class="conditions-error-line ${conditionsAccepted === false ? 'conditions-error-line--show' : ''}">
								<mdc-text-field-helper-text>AGB muss sein, Brudi</mdc-text-field-helper-text>
							</mdc-text-field-helper-line>
						</mdc-layout-grid-cell>
					</mdc-layout-grid-cell>

					<mdc-layout-grid-cell span="12">
						<button
							mdc-button
							unelevated
							type="button"
							disabled.bind="submitting"
							click.trigger="submit()"
						>
							Registrieren
							<span
								class="spinner-border spinner-border-sm ms-2"
								role="status"
								aria-hidden="true"
								show.bind="submitting"
							></span>
						</button>
					</mdc-layout-grid-cell>
				</mdc-layout-grid-inner>
			</form>
		</mdc-card>
	</div>
</template>
